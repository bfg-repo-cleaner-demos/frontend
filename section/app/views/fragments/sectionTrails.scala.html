@(section: Section, editorsPicks: Seq[Trail], latestContent: Seq[Trail], showAll: Boolean = false)(implicit request: RequestHeader)

@defining(math.max(editorsPicks.length, if (showAll) (editorsPicks ++ latestContent).size else 15)){ numTrails =>
    @defining((editorsPicks ++ latestContent).take(numTrails)){ trails =>
	    <div class="trailblock" data-count="@trails.length" data-link-name="Section | block | @section.section">
	        @fragments.trailblocks.section(trails, numWithImages = 3, numItemsVisible = numTrails)
	    </div>
    }
}