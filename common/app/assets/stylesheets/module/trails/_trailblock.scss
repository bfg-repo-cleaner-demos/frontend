/* ==========================================================================
   Trailblocks
   ========================================================================== */

.trailblock {
    max-height: none;

    .article__inner & {
        margin-left: 0;
        margin-right: 0;
    }

    > ul {
        margin-bottom: 0;
    }

    @include mq(rightCol) {
        .trail {
            width: 50%;
            float: left;
            padding-right: $gs-gutter*1.5;
            border: none;
            @include box-sizing(border-box);

            &:before {
                position: absolute;
                top: 0;
                right: $gs-gutter/2;
                left: 0;
                content: '';
                display: block;
                height: 1px;
                background-color: $c-neutral4;
            }

            &:nth-child(odd) {
                padding-right: 0;
                padding-left: $gs-gutter/2;

                &:before {
                    right: 0;
                    left: $gs-gutter/2;
                }
            }

            &.trail--headline {
                .trail__headline {
                    @include fs-headline(3, true);
                }
            }

            .trail__headline {
                @include fs-headline(3, true);
                min-height: gs-height(2) - ($baseline*6 - 3px);
            }

        }

        .panel {
            .trail {
                &:nth-child(even) {
                    padding-right: 0;
                    padding-left: $gs-gutter/2;

                    &:before {
                        right: 0;
                        left: $gs-gutter/2;
                    }
                }

                &:nth-child(odd) {
                    padding-right: $gs-gutter/2;
                    padding-left: 0;

                    &:before {
                        right: $gs-gutter/2;
                        left: 0;
                    }
                }
            }
        }
    }
}

.trailblock--no-border {
    border-top: none;
}


/* Trailblock expandables
   ========================================================================== */

.trailblock.shut {
    > ul {
        + ul {
            border-top: none;
        }
    }
    .count {
        display: inline-block;
    }
}

.trailblock.rolled-up,
.trailblock.rolled-out {
    margin-top: $baseline*2;
}

.trailblock.rolled-up {
    max-height: 0;
}


/* Toggle trailblock
   ========================================================================== */

.toggle-trailblock {
    @include box-sizing(border-box);
    position: absolute;
    min-height: gs-height(1);
    min-width: gs-span(1);
    top: 0;
    right: 0;
    border: none;
    border-left: 1px solid #ffffff;
    background-color: transparent;
    @include fs-data(2);
    color: #ffffff;
    padding: 14px 0 0 6px;
    text-align: left;
}


/* More on this story trailblock
   ========================================================================== */

@include mq(rightCol) {
    .more-on-this-story ul:first-of-type {
        .trail:first-child {
            display: none;
        }
    }

    .more-on-this-story--one-item {
        display: none;
    }
}
