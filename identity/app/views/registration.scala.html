@(page: model.MetaData, idRequest: services.IdentityRequest, idUrlBuilder: services.IdentityUrlBuilder, registrationForm: Form[(String, String, String, Boolean, Boolean)])(implicit request: RequestHeader)

@import form.IdFormHelpers._
@import views.html.fragments.form.{idInputEmail, idInputPassword, idInputUsername, idCheckbox}

@main(page, conf.Switches.all){
}{
<div class="identity-wrapper">
    <h1>Register for the guardian</h1>
    <form class="form js-register-form" novalidate action="@idUrlBuilder.buildUrl("/register", idRequest)" role="main" method="post">
    @if(registrationForm.globalError.isDefined) {
    <div class="form__error">@registrationForm.globalErrors.map(_.message).mkString(", ")</div>
    }

    <ul class="form-fields">

        @idInputEmail(registrationForm("user.primaryEmailAddress"), '_label -> "Email address", 'class -> "js-signin-email", 'autocomplete -> "off")
        @idInputEmail(registrationForm("user.publicFields.username"), '_label -> "Username", 'autocomplete -> "off")
        @idInputPassword(registrationForm("user.password"), '_label -> "Password", 'autocomplete -> "off" )

        <li>
            <label class="check-label check-label--helper">
                @idCheckbox(registrationForm("receive_third_party_marketing"))
                Send me messages from 3rd party organisations screened by the guardian
            </label>
        </li>
        <li>
            <label class="check-label check-label--helper">
                @idCheckbox(registrationForm("receive_gnm_marketing"))
                Keep me up to date with offers and developments from the Guardian
            </label>
        </li>
        <li>
            <button type="submit" class="submit-input" data-link-name="Sign in">Create account</button>
        </li>
        <li>
            <label>
                By proceeding, you agree to The Guardian's <a href="http://www.theguardian.com/help/terms-of-service">Terms of service</a> and <a href="http://www.theguardian.com/help/privacy-policy">privacy policy</a>
            </label>
        </li>

    </ul>
    </form>
</div>
}
